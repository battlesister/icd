<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Generate a set of codes between two ICD codes including encompassed children — expand_range • icd: Comorbidities and tools for ICD codes</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>



<meta property="og:title" content="Generate a set of codes between two ICD codes including encompassed children — expand_range" />
<meta property="og:description" content="Great care is taken not to include codes which have children not in the
range. E.g., 100.9 to 101.1 would not include code
101. See the extensive tests covering this area for much more detail." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">icd: Comorbidities and tools for ICD codes</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">4.0.9.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/jackwasey/icd/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Generate a set of codes between two ICD codes including encompassed children</h1>
    <small class="dont-index">Source: <a href='https://github.com/jackwasey/icd/blob/master/R/ranges.R'><code>R/ranges.R</code></a></small>
    <div class="hidden name"><code>expand_range.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Great care is taken not to include codes which have children not in the
range. E.g., <code>100.9</code> to <code>101.1</code> would <strong>not</strong> include code
<code>101</code>. See the extensive tests covering this area for much more detail.</p>
    </div>

    <pre class="usage"><span class='fu'>expand_range</span>(<span class='no'>start</span>, <span class='no'>end</span>, <span class='no'>...</span>)

<span class='co'># S3 method for character</span>
<span class='fu'>expand_range</span>(<span class='no'>start</span>, <span class='no'>end</span>, <span class='kw'>short_code</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>defined</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='no'>...</span>)

<span class='co'># S3 method for icd9</span>
<span class='fu'>expand_range</span>(
  <span class='no'>start</span>,
  <span class='no'>end</span>,
  <span class='kw'>short_code</span> <span class='kw'>=</span> <span class='fu'><a href='guess_short.html'>guess_short</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='no'>start</span>, <span class='no'>end</span>)),
  <span class='kw'>defined</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>ex_ambig_start</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>ex_ambig_end</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='no'>...</span>
)

<span class='no'>start</span> <span class='kw'>%i9da%</span> <span class='no'>end</span>

<span class='no'>start</span> <span class='kw'>%i9sa%</span> <span class='no'>end</span>

<span class='no'>start</span> <span class='kw'>%i9d%</span> <span class='no'>end</span>

<span class='no'>start</span> <span class='kw'>%i9mj%</span> <span class='no'>end</span>

<span class='no'>start</span> <span class='kw'>%i9s%</span> <span class='no'>end</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>start, end</th>
      <td><p>is a character vector of ICD-9 codes. If fewer than five
characters is given in a code, then the digits are greedily assigned to
hundreds, then tens, then units, before the decimal parts. E.g., <code>10</code>
becomes <code>010</code>, not <code>0010</code> or <code>00010</code>.</p></td>
    </tr>
    <tr>
      <th>short_code</th>
      <td><p>single logical value which determines whether the ICD-9
code provided is in short (<code>TRUE</code>) or decimal (<code>FALSE</code>) form.
Where reasonable, this is guessed from the input data.</p></td>
    </tr>
    <tr>
      <th>defined</th>
      <td><p>single logical value, if <code>TRUE</code>, will limit the search
to those codes which appear in the master list, not just syntactically
valid codes. Since nearly valid, out-dated or new codes may be missed, not
limiting to officially defined values will be useful. Ultimately, there
will need to be annual (and all-time) master lists of codes and the ability
to test against a given master list given the year of the ICD-9 coding.</p></td>
    </tr>
    <tr>
      <th>ex_ambig_start</th>
      <td><p>single logical value, if <code>TRUE</code> the range returned
will not include codes which are explicitly listed in the range, but would
imply a broader range than specified. E.g. <code>V10 %i9sa% V1009</code> would
by default (<code>FALSE</code>) include <code>V10</code> even though <code>V10</code> itself
is parent to everything up to <code>V11</code>.</p></td>
    </tr>
    <tr>
      <th>ex_ambig_end</th>
      <td><p>single logical, same as <code>ex_ambig_start</code> but affects
codes at the end of the range. E.g. &#8216;99.99&#8217; to &#8216;101.01&#8217; would
by default exclude 101 and 101.0</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The default for the argument <code>defined</code> is <code>TRUE</code> since this is far
more likely to be useful to the end user, dealing with real ICD codes.</p>
<p>When the class is not known, it must be guessed from the start and
  end codes. If this guessing fails, e.g. start is ICD-9 whereas end is
  ICD-10, then an error is thrown. Otherwise, the appropriate S3 method is
  called.</p>
    <h2 class="hasAnchor" id="methods-by-class-"><a class="anchor" href="#methods-by-class-"></a>Methods (by class)</h2>

    
<ul>
<li><p><code>character</code>: Expand a range of ICD-9 or ICD-10 codes when the
class is not known</p></li>
<li><p><code>icd9</code>: Expand a range of ICD-9 codes</p></li>
</ul>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other ICD-9 ranges: 
<code><a href='children.html'>children</a>()</code>,
<code><a href='condense.html'>condense</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>expand_range</span>(<span class='st'>"428.0"</span>, <span class='st'>"428.9"</span>)</div><div class='output co'>#&gt;  [1] "428.0"  "428.1"  "428.2"  "428.20" "428.21" "428.22" "428.23" "428.3" 
#&gt;  [9] "428.30" "428.31" "428.32" "428.33" "428.4"  "428.40" "428.41" "428.42"
#&gt; [17] "428.43" "428.9" </div><div class='input'><span class='st'>"4280"</span> <span class='kw'>%i9s%</span> <span class='st'>"4289"</span></div><div class='output co'>#&gt;  [1] "4280"  "4281"  "4282"  "42820" "42821" "42822" "42823" "4283"  "42830"
#&gt; [10] "42831" "42832" "42833" "4284"  "42840" "42841" "42842" "42843" "4289" </div><div class='input'><span class='st'>"4280"</span> <span class='kw'>%i9s%</span> <span class='st'>"42821"</span></div><div class='output co'>#&gt; [1] "4280"  "4281"  "42820" "42821"</div><div class='input'><span class='st'>"42799"</span> <span class='kw'>%i9sa%</span> <span class='st'>"42802"</span> <span class='co'># doesn't include 428 or 4280</span></div><div class='output co'>#&gt; [1] "42799" "42800" "42801" "42802"</div><div class='input'><span class='st'>"427.99"</span> <span class='kw'>%i9da%</span> <span class='st'>"428.02"</span></div><div class='output co'>#&gt; [1] "427.99" "428.00" "428.01" "428.02"</div><div class='input'><span class='st'>"V80"</span> <span class='kw'>%i9s%</span> <span class='st'>"V810"</span></div><div class='output co'>#&gt; [1] "V80"   "V800"  "V8001" "V8009" "V801"  "V802"  "V803"  "V810" </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Jack O. Wasey, Michel Lang, R Core Team.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '797795ae271734faa8bc9b1f4aaae82b',
    indexName: 'icd',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


